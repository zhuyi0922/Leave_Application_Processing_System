<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <link rel="stylesheet" th:href="@{/css/styles.css}"/>
  <head th:replace="fragments/layout.html :: html_head"/>
</head>
<body>
<div th:replace="fragments/layout.html :: menu"/>
<div class="body-form" style="max-width: 90%">
  <div class="formtitle">
    <h2>Leave Application List</h2>
  </div>
  <div class="formcontent">
    <button class="subbutton" th:onclick="|window.location.href='@{/staff/home}'|">Back</button>
  <div th:if="${#lists.isEmpty(applicationList.content)}">there is no application</div>
  <div th:if="${not #lists.isEmpty(applicationList.content)}">
    <table class="formtable">
      <tr class="listHeading">
        <th class="formheader2"><span>Start Date</span></th>
        <th class="formheader2"><span>End Date</span></th>
        <th class="formheader2"><span>Create Date</span></th>
        <th class="formheader2"><span>Leave Type</span></th>
        <th class="formheader2"><span>Reasons</span></th>
        <th class="formheader2"><span>Dissemination</span></th>
        <th class="formheader2"><span>Contact Details</span></th>
        <th class="formheader2"><span>Leave Days</span></th>
        <th class="formheader2"><span>Comment</span></th>
        <th class="formheader2"><span>Response Date</span></th>
        <th class="formheader2"><span>Status</span></th>
        <th class="formheader2"><span>Operation</span></th>
      </tr>
      <tr th:each="leaveapplication : ${applicationList}" class="listRecord">
        <td th:text="${leaveapplication.start_date}"></td>
        <td th:text="${leaveapplication.end_date}"></td>
        <td th:text="${leaveapplication.create_date}"></td>
        <td th:text="${leaveapplication.leaveType.leaveTypeName}"></td>
        <td th:text="${leaveapplication.reasons}"></td>
        <td th:text="${leaveapplication.workDissemination}"></td>
        <td th:text="${leaveapplication.contactDetails}"></td>
        <td th:text="${leaveapplication.costLeaveDays}"></td>
        <td th:text="${leaveapplication.responseComment}"></td>
        <td th:text="${#dates.format(leaveapplication.responseDate, 'yyyy-MM-dd')}"></td>
        <td th:text="${leaveapplication.application_status}"></td>
        <td>
            <a th:href="@{'/admin/application/delete/' + ${leaveapplication.leaveApplicationId}}">Delete</a>
        </td>
      </tr>
    </table>
    <!--this is for the pagination-->
    <!-- Add these lines at the end of your existing HTML -->
    <span th:if="${applicationList.hasPrevious()}" class="btn btn-default">
        <a th:href="@{'/admin/applications/list?page=' + ${applicationList.previousPageable().pageNumber}}" class="btn btn-default">Previous</a>
    </span>
    <span th:if="${applicationList.hasNext()}" class="btn btn-default">
        <a th:href="@{'/admin/applications/list?page=' + ${applicationList.nextPageable().pageNumber}}" class="btn btn-default">Next</a>
    </span>
  </div>
  </div>
</div>
</body>
</html>